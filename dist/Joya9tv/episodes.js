"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=function({url:url,providerContext:providerContext}){const{axios:axios,cheerio:cheerio,commonHeaders:headers}=providerContext;return axios.get(url,{headers:headers}).then(res=>{const $=cheerio.load(res.data),container=$("ul:has(p.font-bold:contains('Episode'))").first(),episodes=[];return container.find("p.font-bold").each((_,element)=>{const el=$(element);let title=el.text().trim();if(!title)return;let currentElement=el.parent();for(;currentElement.next().length&&!currentElement.next().find("p.font-bold").length;)currentElement=currentElement.next(),currentElement.find("a[href]").each((_,a)=>{var _a;const href=null===(_a=$(a).attr("href"))||void 0===_a?void 0:_a.trim();href&&(href.includes("hubcloud.one")||href.includes("gdflix.dev"))&&episodes.push({title:title.replace(/ Links$/i,""),link:href})})}),episodes}).catch(err=>[])};exports.getEpisodes=getEpisodes;
