"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ringzData=exports.headers=exports.getSearchPosts=exports.getPosts=void 0,exports.getRingzMovies=getRingzMovies,exports.getRingzShows=getRingzShows,exports.getRingzAnime=getRingzAnime,exports.getRingzAdult=getRingzAdult;const getPosts=function(_a){return __awaiter(this,arguments,void 0,function*({filter:filter,signal:signal,providerContext:providerContext}){return posts({filter:filter,signal:signal,providerContext:providerContext})})};exports.getPosts=getPosts;const getSearchPosts=function(_a){return __awaiter(this,arguments,void 0,function*({searchQuery:searchQuery,page:page}){if(page>1)return[];try{const catalog=[],promises=[getRingzMovies(),getRingzShows(),getRingzAnime()];return(yield Promise.all(promises)).map(response=>{const searchResults=function(data,query){const searchQuery=query.toLowerCase();return data.filter(movie=>movie.mn.toLowerCase().includes(searchQuery))}(response,searchQuery);searchResults.map(element=>{const title=(null==element?void 0:element.kn)||(null==element?void 0:element.mn),link=JSON.stringify(element),image=null==element?void 0:element.IV;title&&link&&catalog.push({title:title,link:link,image:image})})}),catalog}catch(err){return[]}})};function posts(_a){return __awaiter(this,arguments,void 0,function*({filter:filter}){try{let response;"MOVIES"===filter&&(response=getRingzMovies()),"SERIES"===filter&&(response=getRingzShows()),"ANIME"===filter&&(response=getRingzAnime());const data=yield response,catalog=[];return data.map(element=>{const title=(null==element?void 0:element.kn)||(null==element?void 0:element.mn),link=JSON.stringify(element),image=null==element?void 0:element.IV;title&&link&&catalog.push({title:title,link:link,image:image})}),catalog}catch(err){return[]}})}exports.getSearchPosts=getSearchPosts,exports.headers={"cf-access-client-id":"833049b087acf6e787cedfd85d1ccdb8.access","cf-access-client-secret":"02db296a961d7513c3102d7785df4113eff036b2d57d060ffcc2ba3ba820c6aa"};const BASE_URL="https://privatereporz.pages.dev";function getRingzMovies(){return __awaiter(this,void 0,void 0,function*(){try{const response=yield fetch(`${BASE_URL}/test.json`,{headers:Object.assign({},exports.headers)});return(yield response.json()).AllMovieDataList}catch(error){}})}function getRingzShows(){return __awaiter(this,void 0,void 0,function*(){try{const response=yield fetch(`${BASE_URL}/srs.json`,{headers:Object.assign({},exports.headers)});return(yield response.json()).webSeriesDataList}catch(error){}})}function getRingzAnime(){return __awaiter(this,void 0,void 0,function*(){try{const response=yield fetch(`${BASE_URL}/anime.json`,{headers:Object.assign({},exports.headers)});return(yield response.json()).webSeriesDataList}catch(error){}})}function getRingzAdult(){return __awaiter(this,void 0,void 0,function*(){try{const response=yield fetch(`${BASE_URL}/desihub.json`,{headers:Object.assign({},exports.headers)});return(yield response.json()).webSeriesDataList}catch(error){}})}exports.ringzData={getRingzMovies:getRingzMovies,getRingzShows:getRingzShows,getRingzAnime:getRingzAnime,getRingzAdult:getRingzAdult};
